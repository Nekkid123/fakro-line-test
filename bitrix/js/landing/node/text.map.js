{"version":3,"sources":["text.js"],"names":["BX","namespace","escapeText","Landing","Utils","headerTagMatcher","Matchers","headerTag","russianTextMatcher","russianText","changeTagName","textToPlaceholders","Block","Node","Text","options","apply","this","arguments","onClick","bind","onPaste","onDrop","onInput","onMousedown","onMouseup","node","addEventListener","document","currentNode","prototype","__proto__","superClass","constructor","onAllowInlineEdit","setAttribute","message","onChange","preventAdjustPosition","preventHistory","call","containsRussianText","buttons","getGlavredButton","getDesignButton","UI","Panel","EditorPanel","getInstance","show","adjustPosition","History","push","Entry","block","top","storage","getByChildNode","id","selector","command","undo","lastValue","redo","getValue","event","clearTimeout","inputTimeout","key","keyCode","which","window","navigator","userAgent","match","ctrlKey","metaKey","setTimeout","onEscapePress","isEditable","hide","disableEdit","preventDefault","clipboardData","getData","execCommand","onDocumentClick","fromNode","manifest","allowInlineEdit","Main","isControlsEnabled","stopPropagation","enableEdit","Tool","ColorPicker","hideAll","Button","FontAction","target","nodeName","parentElement","range","createRange","selectNode","getSelection","removeAllRanges","addRange","isContentEditable","StylePanel","isShown","isHeader","getChangeTagButton","changeHandler","onChangeTag","contentEditable","focus","designButton","Design","html","attrs","title","onDesignShow","code","glavredButton","EditorAction","onGlavredButtonClick","buttonHTML","layout","innerHTML","buttonRect","getBoundingClientRect","loader","Card","Loader","style","width","overflow","appendChild","classList","add","Client","Glavred","proofread","then","remove","removeMarkup","isAllowInlineEdit","getField","field","Field","name","content","changeTagButton","setValue","value","preventSave","isSavePrevented","util","htmlspecialcharsback","test","ChangeTag","insertAfter","activateItem","data","changeOptionsHandler"],"mappings":"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","file":""}