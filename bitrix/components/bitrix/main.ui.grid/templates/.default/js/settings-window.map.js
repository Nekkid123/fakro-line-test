{"version":3,"sources":["settings-window.js"],"names":["BX","namespace","Grid","SettingsWindow","parent","this","popupItems","items","popup","sourceContent","applyButton","resetButton","cancelButton","init","onCustomEvent","window","prototype","bind","getContainer","proxy","_onContainerClick","addCustomEvent","_onColumnMoved","destroy","unbind","removeCustomEvent","getPopup","close","getSelectAllButton","selectAllButton","Utils","getByClass","contentContainer","settings","get","getUnselectAllButton","unselectAllButton","reset","allColumns","event","hasClass","target","_onSettingsButtonClick","show","fetchColumns","promise","Promise","ajax","url","getParam","method","dataType","onsuccess","fulfill","prepareColumnOptions","options","customNames","getUserOptions","getCurrentOptions","custom_names","type","isPlainObject","id","name","getColumnHeaderCellByName","selected","createColumnElement","html","create","firstElementChild","useLazyLoadColumns","getSourceContent","contentList","querySelector","innerHTML","loader","Loader","then","response","forEach","columnOptions","appendChild","hide","getItems","item","getNode","delegate","onItemClick","fixedFooter","props","className","children","requestAnimationFrame","popupContainer","style","width","clientWidth","getPopupItems","getSelectedColumns","columns","column","isSelected","push","getId","restoreColumns","restore","sortItems","restoreLastColumns","current","restoreState","updateColumnsState","updateState","saveColumns","callback","columnNames","getColumnNames","batch","action","getAction","join","isForAll","view_id","set_default_settings","delete_user_settings","reloadTable","disableAllColumnslabelEdit","disableEdit","getAllColumns","map","isShowedColumn","columnName","some","getShowedColumns","result","cells","getRows","getHeadFirstChild","getCells","slice","call","dataset","showedColumns","counter","Object","keys","getColumnByName","parentNode","names","isEdited","getTitle","getBySelector","onResetButtonClick","confirmDialog","CONFIRM","CONFIRM_MESSAGE","arParams","CONFIRM_RESET_MESSAGE","enableWait","getApplyButton","disableWait","getResetButtonId","getContainerId","onApplyButtonClick","unselectForAllCheckbox","getApplyButtonId","getCancelButtonId","getCancelButton","checkbox","getForAllCheckbox","checked","buttonNode","addClass","removeClass","createTitle","tmpDiv","pageTitleNode","pageTitle","innerText","firstChild","getPopupId","createPopup","PopupWindow","titleBar","autoHide","overlay","closeIcon","closeByEsc","contentNoPaddings","content","events","onPopupClose","getResetButton","onSelectAll","onUnselectAll","adjustActionButtonsState","SettingsWindowColumn","selectAll","enableActions","unselectAll","disableActions","select","unselect","length"],"mappings":"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","file":""}