{"version":3,"sources":["top_panel.js"],"names":["BX","namespace","removeClass","Landing","Utils","addClass","onCustomEvent","bind","makeFilterablePopupMenu","makeSelectablePopupMenu","style","encodeDataValue","Menu","UI","Tool","Panel","Top","id","data","BasePanel","apply","this","arguments","layout","top","document","querySelector","siteButton","pageButton","undoButton","redoButton","desktopButton","tabletButton","mobileButton","iframe","lastActive","loader","onDesktopSizeChange","onTabletSizeChange","onMobileSizeChange","onFrameTransitionEnd","onIframeClick","onSiteButtonClick","onPageButtonClick","onUndo","onRedo","onKeyDown","adjustHistoryButtonsState","contentDocument","window","sitesCount","parseInt","Main","getInstance","options","sites_count","pagesCount","pages_count","addEventListener","History","instance","prototype","constructor","__proto__","superclass","event","key","keyCode","which","navigator","userAgent","match","ctrlKey","metaKey","shiftKey","preventDefault","canUndo","getLoader","show","undo","then","hide","canRedo","redo","Loader","size","offset","left","stroke-width","history","classList","remove","add","DOM","write","width","dataset","postfix","enableControls","disableControls","siteMenu","bindElement","events","onPopupClose","blur","menuShowDelay","offsetTop","popupWindow","contentContainer","minHeight","minWidth","siteId","site_id","landingId","filter","=TYPE","params","type","URLList","getSites","sites","forEach","site","addMenuItem","ID","text","TITLE","items","editMask","sef_url","site_edit","showMask","site_show","push","message","href","replace","requestAnimationFrame","pageMenu","getLandings","landings","landing","FOLDER_ID","landing_edit","viewMask","landing_view","FOLDER","siteShowMask","SITE_ID","close"],"mappings":"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","file":""}